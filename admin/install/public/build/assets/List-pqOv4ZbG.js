import{f as E,r as u,i as L,c as m,o as f,a as e,t as l,F as S,A as T,G as D,n as j,s as y,d,z as A,H as C,E as Z,I as ee,h as P,b as z,v as M,e as U,w as te,J as se}from"./app-DM0q11P6.js";import{a as oe,F as le}from"./index-XZxFLTeX.js";import{C as ae}from"./CourseCard-BaG-r2jp.js";/* empty css            */const ie={class:"list-unstyled main-item"},ne={class:"mb-3 bg-white",id:"category",style:{position:"sticky",top:"0px"}},re={key:0,class:"form-check mb-2"},ce=["onChange","id","value"],ue=["for"],Q={__name:"CategoryFilter",emits:["categoryFilter"],setup(I,{emit:b}){const _=E(),t=u([]),n=u(0),o=u([]);u("");const p=b;function v(a,h){a.target.checked?o.value.push(h):o.value=o.value.filter(r=>r!==h),p("categoryFilter",o.value),_.push("/courses")}function k(a){axios.get("/categories",{headers:{"Content-Type":"application/json",Accept:"application/json"},params:{search:a}}).then(h=>{t.value=h.data.data.categories,n.value=h.data.data.total_items}).catch(h=>{console.error("Error fetching categories:",h)})}return L(()=>{k()}),(a,h)=>(f(),m("ul",ie,[e("div",ne,l(a.$t("Categories"))+" ("+l(n.value)+") ",1),(f(!0),m(S,null,T(t.value,r=>(f(),m("li",{key:r.id,class:"filter-item"},[r.show!==!1?(f(),m("div",re,[e("input",{onChange:x=>v(x,r.id),id:"catFilter"+r.id,class:"form-check-input",type:"checkbox",value:r.id,name:"catFilter"},null,40,ce),e("label",{for:"catFilter"+r.id,class:"form-check-label"},l(r.title),9,ue)])):D("",!0)]))),128))]))}},de={class:"d-block mb-1"},pe={id:"full-stars-example-two"},he={class:"rating"},me=["onClick"],G={__name:"RatingFilter",emits:["RatingFilter"],setup(I,{emit:b}){const _=E(),t=u([]),n=u(0),o=b,p=u(0);function v(a){_.push("/courses"),p.value=a,o("RatingFilter",p.value)}function k(){A.get("/instructor/list",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(a=>{t.value=a.data.data.instructors,n.value=a.data.data.total_items}).catch(a=>{console.error("Error fetching instructors:",a)})}return L(()=>{k()}),(a,h)=>(f(),m(S,null,[e("strong",de,l(a.$t("Select Ratings")),1),e("div",pe,[e("div",he,[(f(),m(S,null,T(5,r=>e("label",{key:r,class:"rating__label",onClick:x=>v(r)},[e("span",{class:j(["rating__icon fa fa-star",{active:r<=p.value}])},[y(d(le),{icon:d(oe)},null,8,["icon"])],2)],8,me)),64))])])],64))}},fe={class:"list-unstyled main-item"},_e={class:"mb-3",id:"instructor",style:{background:"white",position:"sticky",top:"0px"}},ge={class:"form-check mb-2"},be=["onChange","id","value"],ve=["for"],J={__name:"InstructorFilter",emits:["instructorFilter"],setup(I,{emit:b}){const _=E(),t=u([]),n=u(0),o=u([]),p=b;function v(a,h){a.target.checked?o.value.push(h):o.value=o.value.filter(r=>r!==h),p("instructorFilter",o.value),_.push("/courses")}function k(){A.get("/instructor/list",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(a=>{t.value=a.data.data.instructors,n.value=a.data.data.total_items}).catch(a=>{console.error("Error fetching instructors:",a)})}return L(()=>{k()}),(a,h)=>(f(),m("ul",fe,[e("div",_e,l(a.$t("Instructors"))+" ("+l(n.value)+") ",1),(f(!0),m(S,null,T(t.value,r=>(f(),m("li",{key:r.id,class:"filter-item"},[e("div",ge,[e("input",{onChange:x=>v(x,r.id),class:"form-check-input",type:"checkbox",name:"instructor",id:"instFilter"+r.id,value:r.id},null,40,be),e("label",{class:"form-check-label",for:"instFilter"+r.id},l(r.name),9,ve)])]))),128))]))}},ye={class:"list-unstyled main-item"},$e={class:"mb-3",style:{background:"white",position:"sticky",top:"0px"}},ke={class:"filter-item"},xe={class:"form-check mb-2"},Ce=["checked","name"],we={class:"form-check-label",for:"flexRadioDefault1"},Fe={class:"filter-item"},Re={class:"form-check mb-2"},De={class:"form-check-label",for:"flexRadioDefault2"},Se={class:"filter-item"},Ie={class:"form-check mb-2"},je={class:"form-check-label",for:"flexRadioDefault3"},Ae={class:"filter-item"},Ee={class:"form-check mb-2"},Le={class:"form-check-label",for:"flexRadioDefault4"},Te={class:"form-check mb-2"},Ve={class:"form-check-label",for:"flexRadioDefault5"},qe={class:"form-check mb-2"},Ne={class:"form-check-label",for:"flexRadioDefault7"},O={__name:"SortOptions",emits:["sort"],setup(I,{emit:b}){const _=b;let t=u(!1);return(n,o)=>(f(),m("ul",ye,[e("div",$e,l(n.$t("Sort By")),1),e("li",ke,[e("div",xe,[e("input",{onChange:o[0]||(o[0]=p=>(_("sort",null,null),C(t)?t.value=!1:t=!1)),class:"form-check-input",type:"radio",id:"flexRadioDefault1",checked:!d(t),name:d(t)?"flexRadioDefault":""},null,40,Ce),e("label",we,l(n.$t("Relevance"))+" ("+l(n.$t("Default"))+") ",1)])]),e("li",Fe,[e("div",Re,[e("input",{onChange:o[1]||(o[1]=p=>(_("sort","price","desc"),C(t)?t.value=!0:t=!0)),class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2"},null,32),e("label",De,l(n.$t("Course Fee"))+": "+l(n.$t("High to Low")),1)])]),e("li",Se,[e("div",Ie,[e("input",{onChange:o[2]||(o[2]=p=>(_("sort","price","asc"),C(t)?t.value=!0:t=!0)),class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault3"},null,32),e("label",je,l(n.$t("Course Fee"))+": "+l(n.$t("Low to High")),1)])]),e("li",Ae,[e("div",Ee,[e("input",{onChange:o[3]||(o[3]=p=>(_("sort","view_count","desc"),C(t)?t.value=!0:t=!0)),class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault4"},null,32),e("label",Le,l(n.$t("Popular Courses")),1)])]),e("li",null,[e("div",Te,[e("input",{onChange:o[4]||(o[4]=p=>(_("sort","published_at","desc"),C(t)?t.value=!0:t=!0)),class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault5"},null,32),e("label",Ve,l(n.$t("Newest Courses")),1)])]),e("li",null,[e("div",qe,[e("input",{onChange:o[5]||(o[5]=p=>(_("sort","average_rating","desc"),C(t)?t.value=!0:t=!0)),class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault7"},null,32),e("label",Ne,l(n.$t("Rating")),1)])])]))}},Be={class:"bg-light py-4"},He={class:"container"},Pe={class:"row"},ze={class:"col-12 d-block d-lg-none mb-4 mb-lg-0 d-flex justify-content-end align-items-center gap-2"},Me={class:"text-muted fs-6"},Ue={class:"col-12 col-lg-3 d-none d-lg-block mb-4 mb-lg-0"},Qe={class:"bg-white rounded-3 overflow-hidden",style:{position:"sticky",top:"100px"}},Ge={class:"d-flex justify-content-between align-items-center border-bottom border-light px-3 py-4"},Je={class:"input-group my-2 px-2",role:"search"},Oe=["placeholder"],Ke={style:{"overflow-y":"auto","max-height":"calc(100vh - 245px)"}},We={class:"px-3 py-1 border-bottom"},Xe={class:"px-3 py-1 border-bottom"},Ye={class:"px-3 py-1 border-bottom"},Ze={class:"px-3 py-1"},et={class:"bg-white rounded-3"},tt={class:"d-flex justify-content-between align-items-center border-bottom border-light px-3 py-4"},st={class:"px-3 py-1 border-bottom"},ot={class:"px-3 py-1 border-bottom"},lt={class:"px-3 py-1 border-bottom"},at={class:"px-3 py-1"},it={class:"col-12 col-lg-9"},nt={key:0,class:"fw-bold text-center mb-5"},rt={class:"text-muted"},ct={key:1,class:"fw-bold text-center mb-5"},ut={class:"text-muted"},dt={class:"row align-items-center p-3 rounded-3 bg-white mb-4"},pt={class:"col-12 col-lg-6 text-center mb-3 mb-lg-0 text-lg-start"},ht={class:"col-12 col-lg-6"},mt=["placeholder"],ft={class:"row row-cols-1 row-cols-md-2 row-cols-lg-2 row-cols-xl-3"},_t={key:2,class:"text-center my-5"},gt={key:3,class:"text-center my-4"},kt={__name:"List",setup(I){const b=Z(),_=E(),t=ee();let n=u(!1);const o=u(t.query.search),p=u(t.query.category_id),v=u("");let k=u(""),a=u([]),h=u(1),r=u(15),x=u(0),F=u("");const K=i=>{$(i)};let g={items_per_page:10,page_number:1,sort:"view_count",sortDirection:"desc"};function q(i){i.length===0?(g={items_per_page:12,page_number:1,sort:"view_count",sortDirection:"desc"},_.push("/courses"),$()):(g.category_id=i,$())}function N(i){g.average_rating=i,$()}function B(i){i.length===0?(g={items_per_page:12,page_number:1,sort:"view_count",sortDirection:"desc"},_.push("/courses"),$()):(g.instructor_id=i,$())}function H(i,s){g.sort=i,g.sortDirection=s,$()}function V(){o.value=null,g={items_per_page:12,page_number:1,sort:"view_count",sortDirection:"desc"},$(),document.querySelectorAll('input[type="radio"]').forEach(c=>{c.checked=!1}),document.querySelectorAll('input[type="checkbox"]').forEach(c=>{c.checked=!1}),location.reload()}L(()=>{$()}),P(()=>t.query,()=>{o.value=t.query.search,p.value=t.query.category_id,v.value=t.query.search,$()});function $(i=1){o.value&&(g.search=o.value),p.value&&(g.category_id=p.value),g.items_per_page=r.value,g.page_number=i,b!=null&&b.authToken?A.get("/course/list",{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${b.authToken}`},params:g}).then(s=>{var c;a.value=s.data.data.courses,x.value=s.data.data.total_courses,k.value=((c=s.data.data.courses[0])==null?void 0:c.category)||""}).catch(s=>{console.error("Error fetching courses:",s)}):A.get("/course/list",{headers:{"Content-Type":"application/json",Accept:"application/json"},params:g}).then(s=>{var c;a.value=s.data.data.courses,x.value=s.data.data.total_courses,k.value=((c=s.data.data.courses[0])==null?void 0:c.category)||""}).catch(s=>{console.error("Error fetching courses:",s)})}const W=()=>{v.value&&_.push(`/courses?search=${v.value}`)};P(()=>F.value,()=>{X()});function X(){const i=F.value.toLowerCase().trim(),s=document.querySelectorAll(".filter-item"),c=document.querySelectorAll(".main-item");s.forEach(w=>{const R=w.textContent.toLowerCase().includes(i);w.classList.toggle("d-block",R),w.classList.toggle("d-none",!R)}),c.forEach(w=>{const R=[...w.children].some(Y=>Y.classList.contains("d-block"));w.classList.toggle("d-block",R),w.classList.toggle("d-none",!R)})}return(i,s)=>(f(),m("section",Be,[e("section",He,[e("div",Pe,[e("div",ze,[e("span",Me,l(i.$t("Filtering"))+": ",1),e("button",{type:"button",class:j(["btn btn-sm px-3 py-2 fs-5 fw-bold",d(n)?"btn-outline-primary":"border-2 border-primary"]),onClick:s[0]||(s[0]=c=>C(n)?n.value=!d(n):n=!d(n))},[e("i",{class:j(d(n)?"bi bi-funnel-fill":"text-primary bi bi-funnel")},null,2)],2)]),e("div",Ue,[e("div",Qe,[e("div",Ge,[e("h5",null,l(i.$t("Filters")),1),e("span",{onClick:V,class:"text-decoration-none cursor-pointer text-danger"},l(i.$t("Reset")),1)]),e("div",Je,[s[5]||(s[5]=e("span",{class:"input-group-text bg-light border-0 border-start border-top border-bottom px-3 py-2",id:"basic-addon1"},[e("i",{class:"ri ri-search-line"})],-1)),z(e("input",{"onUpdate:modelValue":s[1]||(s[1]=c=>C(F)?F.value=c:F=c),class:"form-control search-input border-0 border-top border-bottom border-end bg-light ps-0 py-2",type:"search",placeholder:i.$t("Search Filters data here")},null,8,Oe),[[M,d(F)]])]),e("div",Ke,[e("div",We,[y(Q,{onCategoryFilter:q})]),e("div",Xe,[y(O,{onSort:H})]),e("div",Ye,[y(J,{onInstructorFilter:B})]),e("div",Ze,[y(G,{onRatingFilter:N})])])])]),e("div",{class:j(["col-12 col-lg-3 mb-4 mb-lg-0",d(n)?"d-block":"d-none"])},[e("div",et,[e("div",tt,[e("h5",null,l(i.$t("Filters")),1),e("span",{onClick:V,class:"text-decoration-none cursor-pointer text-danger"},l(i.$t("Reset")),1)]),e("div",st,[y(Q,{onCategoryFilter:q})]),e("div",ot,[y(O,{onSort:H})]),e("div",lt,[y(J,{onInstructorFilter:B})]),e("div",at,[y(G,{onRatingFilter:N})])])],2),e("div",it,[o.value?(f(),m("h1",nt,[e("span",rt,l(i.$t("Search"))+" -",1),U(" "+l(o.value),1)])):D("",!0),p.value?(f(),m("h1",ct,[e("span",ut,l(i.$t("Category"))+" -",1),U(" "+l(d(k)),1)])):D("",!0),e("section",dt,[e("div",pt,[e("span",null,l(i.$t("Showing"))+" "+l(d(a).length)+" of "+l(d(x))+" "+l(i.$t("courses")),1)]),e("div",ht,[e("form",{onSubmit:te(W,["prevent"]),class:"input-group border rounded-pill",role:"search"},[z(e("input",{"onUpdate:modelValue":s[2]||(s[2]=c=>v.value=c),class:"form-control border-0 rounded-pill search-input",type:"search",placeholder:i.$t("Search Course"),onInput:s[3]||(s[3]=c=>v.value===""?V():null)},null,40,mt),[[M,v.value]]),s[6]||(s[6]=e("button",{type:"submit",class:"btn btn-primary d-flex rounded-pill px-4"},[e("img",{src:"/assets/images/website/search.svg",alt:"Search"})],-1))],32)])]),e("div",ft,[(f(!0),m(S,null,T(d(a),c=>(f(),m("div",{key:c.id,class:"mb-4"},[y(ae,{course:c},null,8,["course"])]))),128))]),d(a).length==0?(f(),m("div",_t,[s[7]||(s[7]=e("h1",null,[e("i",{class:"ri-emotion-unhappy-line text-muted d-block display-1 mb-3"})],-1)),e("h3",null,l(i.$t("No courses found"))+".",1)])):D("",!0),d(a).length>0?(f(),m("div",gt,[y(d(se),{modelValue:d(h),"onUpdate:modelValue":s[4]||(s[4]=c=>C(h)?h.value=c:h=c),"total-items":d(x),"items-per-page":d(r),"max-pages-shown":5,onClick:K},null,8,["modelValue","total-items","items-per-page"])])):D("",!0)])])])]))}};export{kt as default};
