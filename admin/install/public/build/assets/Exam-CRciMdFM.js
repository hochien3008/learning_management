import{_ as C,E,r as T,I as L,i as B,f as M,j as z,S as j,c,d as r,a as e,t,e as _,F as y,A as w,n as Q,o as n}from"./app-DM0q11P6.js";import{u as R}from"./exam-Di7EiBTP.js";/* empty css            */const Y={key:0,class:"d-flex align-items-center justify-content-center",style:{height:"calc(100vh - 170px)"}},A={class:"text-danger"},D={href:"/dashboard",class:"btn btn-primary mt-4 w-100"},F={key:0,class:"question-section"},N={class:"d-flex justify-content-between align-items-start"},P={class:"timer"},V={class:"fs-6 fw-bold text-primary"},H={class:"timer text-end"},I={class:"timer text-end"},K={class:"timer text-end"},O={class:"questionText"},U={class:"options"},G=["value","onChange"],J=["value","onChange","name"],W={class:"navigation d-flex justify-content-end mt-5"},X={key:1,class:"result-section"},Z={class:"text-center mb-4 text-primary fs-3"},q={class:"container"},ee={class:"row d-flex justify-content-center"},se={class:"col-12 col-md-6 col-lg-4",style:{width:"70%"}},te={class:"card border-primary text-center"},ae={class:"card-header bg-primary text-white"},oe={class:"card-title"},le={class:"card-body"},ie={class:"svg-container mb-4"},ce={key:0,xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",fill:"green",class:"bi bi-check-circle-fill",viewBox:"0 0 16 16"},re={key:1,xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",fill:"red",class:"bi bi-x-circle-fill",viewBox:"0 0 16 16"},ne={key:0,class:"text-success m-0 fs-3 fw-bold"},de={key:1,class:"text-danger fs-3 fw-bold m-0"},he={class:"card-text fw-bold mt-2"},me={class:"fs-5"},ue={class:"row justify-content-center mt-4"},_e={class:"col-12 col-md-6 col-lg-4",style:{width:"100%"}},fe={href:"/dashboard",class:"btn btn-primary w-100"},be={__name:"Exam",setup(ve){const x=E(),a=R(),b=L(),v=M(),h=T([]);let k=b.params.id;const g=(s,i,d,m,l="checkbox")=>{if(h.value[s]||(h.value[s]={question_id:i,...l==="radio"?{choice:null}:{choices:[]}}),m.target.checked)l==="radio"?h.value[s].choice=d:h.value[s].choices.includes(d)||h.value[s].choices.push(d);else if(l==="checkbox"){const o=h.value[s].choices.indexOf(d);o>-1&&h.value[s].choices.splice(o,1)}else h.value[s].choice=null;const u=a.answers.findIndex(o=>o.question_id===i);u>-1?a.answers[u]=h.value[s]:a.answers.push(h.value[s])},p=()=>{a.submitQuiz()};B(()=>{const s=v.beforeEach((i,d,m)=>{b.name===d.name?$(i,d,m):m()});v.afterEach(()=>{s()}),a.fetchQuestions(k,x.authToken),a.isExamSubmitted=!1}),z(()=>{a.isExamSubmitted=!1,a.answers=[],h.value=[]});const $=(s,i,d)=>{j.fire({title:$t("Are you sure?"),text:$t("Your progress may be lost if you leave the exam"),icon:"warning",showCancelButton:!0,confirmButtonText:"Leave Exam",cancelButtonText:"Stay on Page"}).then(m=>{m.isConfirmed?d():d(!1)})};return(s,i)=>{var d,m;return r(a).sessionClosed?(n(),c("div",Y,[e("div",null,[e("h3",A,t(r(a).errorMessage),1),e("a",D,[_(t(s.$t("Move to Dashboard"))+" ",1),i[0]||(i[0]=e("i",{class:"bi bi-arrow-right"},null,-1))])])])):(n(),c("div",{key:1,class:Q(["quiz-container shadow my-5",r(a).sessionClosed?"d-none":"d-block"])},[e("h1",null,t(s.$t("Test Your Limits: How Much Do You Really Know"))+"?",1),r(a).isExamSubmitted?(n(),c("div",X,[e("h2",Z,t(s.$t("Congratulations"))+", "+t(s.$t("Exam Completed")),1),e("div",q,[e("div",ee,[e("div",se,[e("div",te,[e("div",ae,[e("h5",oe,t(s.$t("Scoreboard")),1)]),e("div",le,[e("div",ie,[r(a).score>=((d=r(a).examSession)==null?void 0:d.pass_mark)?(n(),c("svg",ce,i[2]||(i[2]=[e("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"},null,-1)]))):(n(),c("svg",re,i[3]||(i[3]=[e("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"},null,-1)])))]),r(a).score>=((m=r(a).examSession)==null?void 0:m.pass_mark)?(n(),c("h4",ne,t(s.$t("You Passed"))+"!",1)):(n(),c("h4",de,t(s.$t("You Failed"))+"!",1)),e("p",he,[_(t(s.$t("You scored"))+": ",1),e("strong",me,t(r(a).score),1)])])])])]),e("div",ue,[e("div",_e,[e("a",fe,[_(t(s.$t("Move to Dashboard"))+" ",1),i[4]||(i[4]=e("i",{class:"bi bi-arrow-right"},null,-1))])])])])])):(n(),c("div",F,[e("div",N,[e("p",P,[_(t(s.$t("Time Remaining"))+" : ",1),e("span",V,t(r(a).formattedTime),1)]),e("div",null,[e("p",H,t(s.$t("Total Question"))+" : "+t(r(a).currentQuestion.length),1),e("p",I,t(s.$t("Total Time "))+" : "+t(r(a).examSession.exam_duration/60)+t(s.$t("min")),1),e("p",K,t(s.$t("Total Mark"))+" : "+t(r(a).examSession.total_mark),1)])]),e("h2",null,t(s.$t("Question")),1),(n(!0),c(y,null,w(r(a).currentQuestion,(l,u)=>(n(),c("div",{key:u},[e("p",O,[i[1]||(i[1]=e("i",{class:"bi bi-chevron-double-right"},null,-1)),_(" "+t(u+1)+". "+t(l==null?void 0:l.question_text),1)]),e("div",U,[(n(!0),c(y,null,w(l==null?void 0:l.options,(o,S)=>(n(),c("label",{key:S,class:"option"},[(l==null?void 0:l.question_type)==="multiple_choice"?(n(),c("input",{key:0,type:"checkbox",value:o==null?void 0:o.text,onChange:f=>g(u,l==null?void 0:l.id,o==null?void 0:o.text,f)},null,40,G)):(n(),c("input",{key:1,type:"radio",value:o==null?void 0:o.text,onChange:f=>g(u,l==null?void 0:l.id,o==null?void 0:o.text,f,s.type="radio"),name:"question_"+u},null,40,J)),_(" "+t(o==null?void 0:o.text),1)]))),128))])]))),128)),e("div",W,[e("button",{class:"btn btn-primary btn-lg px-5 py-2",onClick:p},t(s.$t("Submit")),1)])]))],2))}}},xe=C(be,[["__scopeId","data-v-312c5e14"]]);export{xe as default};
