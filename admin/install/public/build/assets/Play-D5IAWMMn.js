import{C as ne}from"./CourseLessons-Drv-K6WB.js";import{_ as le,E as ee,r as n,I as re,h as ce,i as de,c as r,a as e,e as u,s as te,t as a,x as ue,d as t,y as me,G as y,F as pe,o as c}from"./app-DM0q11P6.js";import"./exam-Di7EiBTP.js";import"./quiz-nKz7ReqH.js";import"./index-XZxFLTeX.js";/* empty css            */const _e={class:"play-meta-background"},he={class:"container d-block text-light"},ye={class:"container py-4 move-top"},ve={class:"card"},fe={class:"card-body"},be={key:0,class:"row"},xe={class:"col-12 col-lg-7 px-2 px-lg-4"},ge=["src"],we={key:1},ke=["innerHTML"],Pe={key:2,class:"border border-primary text-center px-4 pb-4 pt-5 rounded mb-5"},Ve={class:"mt-3 fs-4 col-8 mx-auto my-4 pt-4"},Ae=["src"],Ce={key:3},De=["src"],$e=["href"],ze=["href"],je={key:4,class:"text-center border border-primary rounded py-5 mb-5"},qe={class:"mt-3 fs-4 col-8 mx-auto"},Ie=["href"],Te={class:"row"},Ee={class:"col-12"},Be={class:"course-title"},Me={class:"col-12"},Ne={class:"instructor-title text-uppercase text-muted"},He={class:"d-flex align-items-center gap-3"},Le=["src"],Se={class:"d-flex flex-column justify-content-center"},Fe={class:"instructor-name"},Ge={class:"instructor-details text-muted"},Re={class:"col-12 col-lg-5 border-start px-2 mt-5 mt-lg-0 px-lg-4"},Je={class:"mb-3 mb-lg-5 fw-bold fs-2"},Ke={key:1},Oe={class:"text-center text-muted"},Qe={class:"mb-0 mt-3"},Ue={__name:"Play",setup(We){const se=ee(),v=re(),oe=n(v.params.course_id),d=n(v.query.content_id);let b=n({});n(!1);let l=n({}),o=n({}),x=n({}),g=n({}),w=n({}),m=n(!1),p=n(!1);const _=n(null),h=n(null),k=s=>{m.value=!0,m.value&&_.value&&_.value.play()},P=s=>{m.value=!1,!m.value&&_.value&&_.value.pause()},V=s=>{p.value=!0,p.value&&h.value&&h.value.play()},A=s=>{p.value=!1,!p.value&&h.value&&h.value.pause()};ce(()=>v.query.content_id,()=>{d.value=v.query.content_id,f(d.value)}),de(()=>{ae()});const ae=async()=>{try{const s=await axios.get(`/course/show/${oe.value}`,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${se.authToken}`}});l.value=s.data.data,x.value=s.data.data.chapters,g.value=s.data.data.exams,w.value=s.data.data.quizzes,d.value||(d.value=s.data.data.chapters[0].contents[0].id),f(d.value)}catch{}},f=async s=>{try{const i=await axios.post(`/view_content/${s}`,null,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+ee().authToken}});o.value=i.data.data.content}catch{b.value=!1}};return(s,i)=>{var C,D,$,z,j,q,I,T,E,B,M,N,H,L,S,F,G,R,J,K,O,Q,U,W,X,Y,Z;const ie=me("router-link");return c(),r(pe,null,[e("section",_e,[e("span",he,[u(a(s.$t("Home"))+" /",1),te(ie,{to:"/details/"+((D=(C=t(l))==null?void 0:C.course)==null?void 0:D.id),class:"text-light"},{default:ue(()=>[u(a(s.$t("My Courses")),1)]),_:1},8,["to"]),u("/"+a((z=($=t(l))==null?void 0:$.course)==null?void 0:z.title),1)])]),e("main",ye,[e("div",ve,[e("div",fe,[t(b)?(c(),r("section",be,[e("section",xe,[t(o).type=="video"&&t(o).media_id?(c(),r("video",{key:0,class:"rounded",src:(j=t(o))==null?void 0:j.media,width:"100%",ref_key:"videoElement",ref:_,controls:"",onPlay:k,onPause:P},null,40,ge)):y("",!0),t(o).type=="video"&&t(o).media_link?(c(),r("div",we,[e("div",{width:"100%",innerHTML:t(o).media_link},null,8,ke)])):y("",!0),t(o).type=="audio"?(c(),r("div",Pe,[i[0]||(i[0]=e("i",{class:"bi bi-mic display-1 rounded-circle border px-3 text-primary"},null,-1)),e("p",Ve,a((q=t(o))==null?void 0:q.title)+"."+a((I=t(o))==null?void 0:I.file_extension),1),e("audio",{src:t(o).media,ref_key:"audioElement",ref:h,controls:"",onPlay:V,onPause:A,class:"w-100"},null,40,Ae)])):y("",!0),t(o).type=="image"?(c(),r("div",Ce,[e("img",{src:(T=t(o))==null?void 0:T.media,width:"100%",height:"400",class:"mb-3 object-fit-cover rounded"},null,8,De),e("a",{href:(E=t(o))==null?void 0:E.media,download:"",class:"btn btn-sm btn-primary me-2"},[u(a(s.$t("Download image"))+" ",1),i[1]||(i[1]=e("i",{class:"bi bi-download ms-1"},null,-1))],8,$e),e("a",{href:(B=t(o))==null?void 0:B.media,target:"_blank",class:"btn btn-sm btn-outline-primary"},[u(a(s.$t("View in full size"))+" ",1),i[2]||(i[2]=e("i",{class:"bi bi-box-arrow-up-right ms-2"},null,-1))],8,ze)])):y("",!0),t(o).type=="document"?(c(),r("div",je,[i[4]||(i[4]=e("i",{class:"bi bi-file-earmark-text display-1 rounded-circle border px-3 text-primary"},null,-1)),e("p",qe,a((M=t(o))==null?void 0:M.title)+"."+a((N=t(o))==null?void 0:N.file_extension),1),e("a",{href:(H=t(o))==null?void 0:H.media,download:"",target:"_blank",class:"btn btn-sm btn-primary"},[u(a(s.$t("Download Document"))+" ",1),i[3]||(i[3]=e("i",{class:"bi bi-download ms-1"},null,-1))],8,Ie)])):y("",!0),e("div",Te,[e("div",Ee,[e("h4",Be,a((S=(L=t(l))==null?void 0:L.course)==null?void 0:S.title),1)]),e("div",Me,[e("p",Ne,a(s.$t("Instructor")),1),e("div",He,[e("div",null,[e("img",{class:"instructor-img",src:(R=(G=(F=t(l))==null?void 0:F.course)==null?void 0:G.instructor)==null?void 0:R.profile_picture,alt:"instructor image"},null,8,Le)]),e("div",Se,[e("h3",Fe,a((O=(K=(J=t(l))==null?void 0:J.course)==null?void 0:K.instructor)==null?void 0:O.name),1),e("p",Ge,a((W=(U=(Q=t(l))==null?void 0:Q.course)==null?void 0:U.instructor)==null?void 0:W.title),1)])])])])]),e("section",Re,[e("h3",Je,a(s.$t("Playlist")),1),te(ne,{chapters:t(x),courseId:(Y=(X=t(l))==null?void 0:X.course)==null?void 0:Y.id,course:(Z=t(l))==null?void 0:Z.course,isPlayingVideo:t(m),contentData:t(o),exams:t(g),quizes:t(w),isPlayingAudio:t(p),onPlayVideo:k,onPauseVideo:P,onPlayAudio:V,onPauseAudio:A},null,8,["chapters","courseId","course","isPlayingVideo","contentData","exams","quizes","isPlayingAudio"])])])):(c(),r("section",Ke,[e("div",Oe,[i[5]||(i[5]=e("i",{class:"bi bi-emoji-frown display-5"},null,-1)),e("p",Qe,a(s.$t("Content not available")),1)])]))])])])],64)}}},ot=le(Ue,[["__scopeId","data-v-9296d2ec"]]);export{ot as default};
